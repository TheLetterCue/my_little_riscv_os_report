% The work has been very well summarised. There is a critical analysis of the work in a thorough and honest way. The ability to see weaknesses is apparent and good solutions to problems are given. Several ideas for future work are detailed which are ambitious, relevant and well thought out
\chapter[Conclusions and further work]{Conclusions and further work}
\label{cha:conc}
\section{Summary of work}
This project set out to design a simple operating system. This required extensive research into the operations of the Hifive1, and the RISC-V architecture. The final result successfully featured an interactive scheduler, that was capable of managing the state of up to seven processes at a time. This success was limited by the small memory space limiting the number of processes that could actually be limited, and the limited amount of IO reduced the interactivity of the system. The memory was split into eight equal sections, each of which had access protected by the physical memory protection. This was a fixed system, as a dynamic approach with such a small memory space would risk individual processes easily choking the entire system. While this limited the number of processes, this was a good compromise as each process required a large amount of system memory to store, so by limiting the number of processes I increased the resources available to each process. In terms of IO, a simple command line was implemented using the UART to allow a host machine to interact with the board through text. This was implemented though interrupts, which allowed non-caller processes to continue execution during the transmission. However the receiver part of this still blocked all execution, to avoid confusion of the user as to which process was taking input. To improve on this a more complex handler that uses a claiming system could be implemented. Also implemented was the the use of the LEDs, however the use of the LEDs is not made exclusive so the output of the LEDs could be ambiguous.

\section{Future Work}
To improve the experience of the user with the board, it would be important to implement a more comprehensive IO, through the use of external components making using of the GPIO pins. This would allow more interaction with the board directly, instead of through a host machine. It would be interesting to make greater use of the atomics extension on the Hifive1 to implement more interprocess communication. In terms of scheduling it would be possible to implement alternate algorithms for the interactive scheduler than the round robin approach, for example to use a lottery system to randomly pick processes to schedule, which has the possibility to allow certain processes to be scheduled more often if more lottery tickets are allocated to it.
% , although the number of processes was not limited by the scheduler but by the size of memory. While the scheduler was fully functional, its implementation could be improved in several ways, for example it relies entirely on calls to the preempter to handle all interruptions to execution, even in cases where the process is not being preempted but is being blocked or terminated. By allowing direct calls to the scheduler it would reduce the possibility of error from the priority of interrupts, and create a simpler process. It was capable of handling multiple processes however a limited amount of IO limited the interactive nature of the scheduler.
